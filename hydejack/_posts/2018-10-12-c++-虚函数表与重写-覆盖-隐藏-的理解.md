---
layout: post
title: c++重载,覆盖(重写),隐藏,与虚函数表的理解
author: author1
description: >
   c++的多态分为： c++分为 编译时多态(模板) 与 运行时多态(函数重载m,虚函数,运算符重载)。本文简单叙述 动态多态中 virtual 函数的相关概念与理解.
---
####  必须记住的一句话: **父类指针可以指向子类指针**


### 虚函数
&emsp;这里不再叙述 虚函数的基本概念： 即 儿子与爸爸都有同一个器官用来实现同一个功能

### 纯虚函数

### 虚函数表
&emsp;c++类通过虚函数表来记录 虚函数的一系列信息。每个含有虚函数的类都有一张虚函数表，表中每一项时一个虚函数指针。同时像字符串一样，会有一个休止符用来记录结尾，不同系统下会有所不同。    
&emsp;**摆放规则:**  

		1. 虚函数按照其声明顺序放于表中
		2. 父类的虚函数排在子类虚函数的前面

### 重载
过于简单不讲

### 重写(覆盖)
> 同名同参不同函数位于父类与子类， 且父类必须 virtual 声明
比如:
```c++
#include <iostream>
using namespace std;

class father
{
public:
    virtual void dick(){cout << "The dick is belong to father" << endl;   }
    virtual void leg(){cout << "The  leg  is belong to father" << endl;   }
    virtual void eyes() {cout << "The eyes is belong to father" << endl; }
};

class son:public father
{
public:
    virtual void dick() {     cout << "The dick is belong to son" << endl; }
};

int main()
{
    father Mr_wang;
    son    small_wang;

    father* pointer;
    pointer = & Mr_wang;
    pointer->dick();

    pointer = &small_wang;
//当使用 pointer 指向 子类对象的时候, 
//调用的是子类的函数，这说明在子类的虚函数表中，在父类虚函数表的基础上进行了覆盖
    pointer->dick();
}
```

### 隐藏
```
**同名**函数在 父类 和 子类中,
if( 参数不同 )
{
	父类此函数被隐藏
}
else if(参数相同 && 父类非虚函数)
{
	父类此函数被隐藏
}
```
<br>
<br>
### 覆盖与隐藏的区别
```c++
#include <iostream>
using namespace std;

class father
{
public:
    virtual void dick()
    {
        cout << "The dick is belong to father" << endl;
    }
    void leg()
    {
        cout << "The  leg  is belong to father" << endl;
    }
};

class son:public father
{
public:
    virtual void dick()
    {
        cout << "The dick is belong to son" << endl;
    }
    void leg()
    {
        cout << "The  leg  is belong to son" << endl;
    }
};

int main()
{
    son Mr_wang;

    father* pointer_1 = &Mr_wang;//父类指针可以指向子类去调用子类函数
    son*    pointer_2 = &Mr_wang;


    pointer_1->dick();
    pointer_2->dick();
    //对于覆盖过的，调用的永远还是 子类函数,

    pointer_1->leg();
    pointer_2->leg();
    //可以看出, 此时虽然指向是同一派生类对象，但是父类指针调用的是父类函数，子类调用的是子类函数a
    //这就是 隐藏的特性.
}
```
> 总结: 
	父类非虚为隐藏，指针调用分父子.
	否则    为覆盖，指针调用只有子.







